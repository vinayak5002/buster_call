str = input()
q = int(input())
for i in range(q):
    order = list(input().split())
    if order[0] == "print":
        str[a:b]
    elif order[0] == "reverse":
        str.reverse[a:b]
    else:
        s = "p"
        str[:a-1]+"(s*(b-a+1),end="")"+str[b+1:]
print()

