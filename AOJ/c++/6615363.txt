#include<stdlib.h>
#include<stdio.h>
#define n 226
#define m 225
int main(){
	int i,j,k,x,y,a=0,b=0,c=0;
	short d[m][n];
	while(scanf("%d",&x)!=EOF,x>0&&x<25){
		d[a][0]=x;
		for(i=0;i<x;i++){
			for(j=1;j<=x;j++){
				scanf("%d",&d[a][i*x+j]);
			}
			printf("\n");
		}
		a++;
	}
	for(i=0;i<a;i++){
		x=d[i][0];
		for(j=0;j<x;j++){
			for(k=j;k>=0;k--){
				y=k*x+j+1-k;
				c=c+d[i][y];
			}
			if(c==j+1&&b<c){
				b=c;
			} 
			c=0; 
		}
		for(j=0;j<x-1;j++){
			for(k=j;k>=0;k--){
				y=x*x-j-k*x+k;
				c=c+d[i][y];
			}
				if(c==j+1&&b<c){
				b=c;
			} 
			c=0;
		}
		
		for(j=0;j<x;j++){
			for(k=j;k>=0;k--){
				y=x-j+k*x+k;
				c=c+d[i][y];
			}
				if(c==j+1&&b<c){
				b=c;
			} 
			c=0;
		}
		for(j=0;j<x-1;j++){
			for(k=j;k>=0;k--){
				y=x*x-x+1+j-k*x-k;
				c=c+d[i][y];
			}
				if(c==j+1&&b<c){
				b=c;
			} 
			c=0;
		}
		for(j=0;j<x;j++){
			for(k=0;k<x;k++){
				y=k*x+j+1;
				c=c+d[i][y];
			}
				if(c==j+1&&b<c){
				b=c;
			} 
			c=0;
		}
		for(j=0;j<x;j++){
			for(k=0;k<x;k++){
				y=j*x+k+1;
				c=c+d[i][y];
			}
				if(c==j+1&&b<c){
				b=c;
			} 
			c=0;
		}
		printf("%d\n",b);
		b=0;
	}
	return 0;
}  
